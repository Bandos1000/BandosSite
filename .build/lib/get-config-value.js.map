{
  "version": 3,
  "sources": ["../../lib/get-config-value.ts"],
  "sourcesContent": ["import rawSiteConfig from '../site.config'\nimport { SiteConfig } from './site-config'\n\nif (!rawSiteConfig) {\n  throw new Error(`Config error: invalid site.config.ts`)\n}\n\n// allow environment variables to override site.config.ts\nlet siteConfigOverrides: SiteConfig\n\ntry {\n  if (process.env.NEXT_PUBLIC_SITE_CONFIG) {\n    siteConfigOverrides = JSON.parse(process.env.NEXT_PUBLIC_SITE_CONFIG)\n  }\n} catch (err) {\n  console.error('Invalid config \"NEXT_PUBLIC_SITE_CONFIG\" failed to parse')\n  throw err\n}\n\nconst siteConfig: SiteConfig = {\n  ...rawSiteConfig,\n  ...siteConfigOverrides\n}\n\nexport function getSiteConfig<T>(key: string, defaultValue?: T): T {\n  const value = siteConfig[key]\n\n  if (value !== undefined) {\n    return value\n  }\n\n  if (defaultValue !== undefined) {\n    return defaultValue\n  }\n\n  throw new Error(`Config error: missing required site config value \"${key}\"`)\n}\n\nexport function getEnv(\n  key: string,\n  defaultValue?: string,\n  env = process.env\n): string {\n  const value = env[key]\n\n  if (value !== undefined) {\n    return value\n  }\n\n  if (defaultValue !== undefined) {\n    return defaultValue\n  }\n\n  throw new Error(`Config error: missing required env variable \"${key}\"`)\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA0B;AAG1B,IAAI,CAAC,YAAAA,SAAe;AAClB,QAAM,IAAI,MAAM,sCAAsC;AACxD;AAGA,IAAI;AAEJ,IAAI;AACF,MAAI,QAAQ,IAAI,yBAAyB;AACvC,0BAAsB,KAAK,MAAM,QAAQ,IAAI,uBAAuB;AAAA,EACtE;AACF,SAAS,KAAP;AACA,UAAQ,MAAM,0DAA0D;AACxE,QAAM;AACR;AAEA,MAAM,aAAyB;AAAA,EAC7B,GAAG,YAAAA;AAAA,EACH,GAAG;AACL;AAEO,SAAS,cAAiB,KAAa,cAAqB;AACjE,QAAM,QAAQ,WAAW;AAEzB,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT;AAEA,MAAI,iBAAiB,QAAW;AAC9B,WAAO;AAAA,EACT;AAEA,QAAM,IAAI,MAAM,qDAAqD,MAAM;AAC7E;AAEO,SAAS,OACd,KACA,cACA,MAAM,QAAQ,KACN;AACR,QAAM,QAAQ,IAAI;AAElB,MAAI,UAAU,QAAW;AACvB,WAAO;AAAA,EACT;AAEA,MAAI,iBAAiB,QAAW;AAC9B,WAAO;AAAA,EACT;AAEA,QAAM,IAAI,MAAM,gDAAgD,MAAM;AACxE;",
  "names": ["rawSiteConfig"]
}
